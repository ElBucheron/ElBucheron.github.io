				Cisco
============================================

////////////////////////////////////////////
//////////////Configure IP ACL//////////////

Try an SSH login:
	> ssh -l SSHadmin 192.168.2.1


Create a numbered IP ACL on a router:
	# access-list 10 permit host 192.168.3.3

Apply the access list to incoming traffic on the VTY lines:
	# line VTY 0 15
	# access-class 10 in

Permit any outside  host to access DNS, SMTP and FTP services:
	# ip access-list extended 120
	# permit tcp any host 192.168.1.3 eq domain
	# permit tcp any host 192.168.1.3 eq smtp
	# permit tcp any host 192.168.1.3 eq ftp

Deny any outside host access to HTTPs services on an IP:
	# deny tcp any host 192.168.1.3 eq www

Permit an IP to access another IP via SSH:
	# permit tcp host 192.168.3.3 host 10.1.1.1 eq 22

Apply the access list to incoming traffic on interface S0/0/0:
	# int S0/0/0
	# ip access-group 120 in

Enable the security technology package:
	# show version
If not enabled:
	# license boot module c1900 technology-package securityk9

Create an internal zone:
	# zone security OUT-ZONE
	# exit

Create a class map referencing the internal traffic ACL:
	# class-map type inspect match-all IN-NET-CLASS-MAP
	# match access-group 101
	# exit

Create a policy map to determine what to do with matched traffic:
	# policy-map type inspect IN-2-OUT-PMAP

Specify a class type of inspect:
	# class type inspect IN-NET-CLASS-MAP
	# inspect
	# exit
	# exit

Create a pair zone:
	# zone-pair security IN-2-OUT-ZPAIR source IN-ZONE destination OUT-ZONE

Specify the policy mapfor handling the traffic:
	# service-policy type inspect IN-2-OUT-PMAP
	# exit

Assigning interfaces to the appropriate security zone:
	# interface g0/1
	# zone-member security IN-ZONE
	# interface s0/0/1
	# zone-member security OUT-ZONE


/////////////////////////////////////////////////////////////////////
/////Configure Cisco Routers for Syslog, NTP, and SSH Operations/////

Configure OSPF MD5 authentication for all the routers in area 0:
	# router ospf 1
	# area 0 authentication message-digest

Configure the MD5 key for all the routers in area 0:
	# interface s0/0/0
	# ip ospf message-digest-key 1 md5 MD5pa55

Verify configurations:
	# show ip ospf neighbor

Show NTP configuration:
	# show ntp status

Configure routers to update hardware clock:
	# ntp update-calendar

Configure NTP authentication on the routers:
	# ntp authenticate
	# ntp trusted-key 1
	# ntp authentication-key 1 md5 NTPpa55

Configure routers to timestamp log messages:
	# ntp server 192.168.1.5

Configure the routers to identify the remote host (Syslog Server):
	# logging 192.168.1.6
	# logging on
	# service timestamps log datetime msec

Verify logging configuration:
	# show logging

Configure a domain name:
	# ip domain-name ccnasecurity.com

Configure users for login to the SSH server:
	# username SSHadmin privilege 15 secret ciscosshpa55

Configure the incoming vty lines:
	# login local
	# transport input ssh

Erase existing key pairs:
	# crypto key zeroize rsa

Generate the RSA encryption key pair:
	# crypto key generate rsa

Verify the SSH configuration:
	# show ip ssh

Configure SSH timeouts and authentication parameters:
	# ip ssh time-out 90
	# ip ssh authentication-retries 2
	# ip ssh version 2

Attempt to connect to a router via Telnet:
	> telnet 192.168.3.1


////////////////////////////////////////////////////////
//////////////Configure AAA Authentication//////////////

Configure a local username:
	# username Admin1 secret admin1pa55

Configure local AAA authentication for console access:
	# line vty 0 4
	# transport input ssh
	# login local

Configure the line console to use the defined AAA authentication method:
	# aaa new-model
	# aaa authentification login default local
	# line con 0
	# login authentication default

Verify the AAA authentication method:
	- Exit and Exit on R1 and check that a username and password is asked

Configure domain name and crypto key for use with SSH:
	# ip domain-name ccnasecurity.com
	# crypto key generate rsa general-keys modulus 1024

Configure a named list AAA authentication method for the vty lines:
	# aaa new-model
	# aaa authentication login SSH-LOGIN local

Configure the vty lines to use the defined AAA authentication method:
	# login authentication SSH-LOGIN

Verify the AAA authentication method:
	> ssh -l Admin1 192.168.1.1


Configure Server-Based AAA Authentication Using TACACS+:
	# tacacs-server host 192.168.2.2
	# tacacs-server key tacacspa55
	# aaa new-model
	# aaa authentication login default group tacacs+ local
	# line con 0
	# login authentication default

Configure Server-Based AAA Authentication Using RADIUS:
	# radius-server host 192.168.3.2
	# radius-server key radiuspa55
	# aaa new-model
	# aaa authentication login default group radius local
	# line con 0
	# login authentication default
